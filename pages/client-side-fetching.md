# client side fetching

nextjs를 사용하면서 페칭을 서버가 아닌 클라이언트에서 한다는 것이

금기처럼 느껴지기 쉽다.

아니 페칭을 서버에서 처리하는 건 next에서 할 수 있는

가장 멋진 최적화 아닌가요?? 라고 말하고 싶을 수 있다.

하지만 적어도 Pages router에서는 항상 그렇지는 않다.

# 클라이언트 사이드가 유용한 상황

페이지 라우터에서 클라이언트 데이터페칭을 사용하는 경우는

일반적인 리액트 애플리케이션과 같은 방식으로 돌아간다고 생각할 수 있습니다.

<br/>

페이지 수준에서 수행하게 되면 런타임에 데이터를 가져오고

데이터가 변경되면 페이지 콘텐츠가 업데이트 됩니다.

<br/>

컴포넌트 수준에서 수행하게 되면 컴포넌트의 마운트 시점에 데이터를 가져오며

데이터가 변경될 경우 컴포넌트의 내용도 업데이트 됩니다.

<br/>

# 클라이언트 사이드 페칭의 단점

사실 리액트에서의 단점과 유사한 면이 있는데

클라이언트측 페칭을 수행하게 되면

애플리케이션 성능 / 페이지 로드 속도에 악영향이 있을 수 있습니다.

이거는 뭐.. 당연한 것이긴 합니다.

왜냐하면 컴포넌트나 페이지가 마운트 되는 시점에 데이터를 가져오기 때문에

서버측 페칭을 수행했다면 마운트로 끝날것이

마운트 -> 데이터페칭 -> 데이터 가져오기 완료 후 마운트

의 프로세스를 타게되기 때문입니다.

# 그럼 언제 써야할까요?

클라이언트 사이드 페칭이 유용한 상황은 다음과 같습니다.

1. SEO가 필요없는 페이지

2. 사전 렌더링이 필요없는 페이지

3. **페이지 콘텐츠가 자주 업데이트 되는 페이지**

# 저는...

당장 많이 쓸 것 같습니다.
